<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>é¦™æ¸¯æ’ç­/å…¥å­¦å¹´çº§ç²¾å‡†æµ‹è¯„</title>
    <style>
        /* --- æ ·å¼ä¿æŒä¸å˜ï¼Œç»´æŒç¾è§‚ --- */
        body { 
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif; 
            background-color: #f4f6f8; 
            color: #333; 
            padding: 20px; 
            line-height: 1.5;
        }
        .container { 
            max-width: 480px; 
            margin: 0 auto; 
            background: white; 
            padding: 30px 25px; 
            border-radius: 16px; 
            box-shadow: 0 4px 20px rgba(0,0,0,0.06); 
        }
        h2 { text-align: center; color: #1a202c; margin: 0 0 5px 0; font-weight: 700; font-size: 22px; }
        .subtitle { text-align: center; color: #718096; font-size: 13px; margin-bottom: 25px; }
        .form-group { margin-bottom: 20px; }
        label { display: block; margin-bottom: 8px; font-weight: 600; font-size: 14px; color: #4a5568; }
        .sub-label { font-size: 12px; color: #718096; font-weight: normal; margin-left: 5px; }
        
        input[type="date"], select { 
            width: 100%; 
            padding: 12px; 
            border: 1px solid #e2e8f0; 
            border-radius: 8px; 
            font-size: 16px; 
            box-sizing: border-box; 
            background-color: #fff; 
            outline: none;
        }
        input[type="date"]:focus, select:focus { border-color: #3182ce; }

        .radio-group { display: flex; gap: 10px; }
        .radio-option { flex: 1; }
        .radio-option input { display: none; }
        .radio-option label { 
            display: block; padding: 10px 5px; border: 1px solid #e2e8f0; border-radius: 8px; 
            text-align: center; font-size: 13px; cursor: pointer; color: #718096; background: #f8fafc;
            transition: all 0.2s;
        }
        .radio-option input:checked + label {
            background-color: #ebf8ff; border-color: #3182ce; color: #2b6cb0; font-weight: bold;
        }

        button { 
            width: 100%; padding: 14px; background-color: #3182ce; color: white; border: none; border-radius: 8px; 
            font-size: 16px; font-weight: bold; cursor: pointer; margin-top: 10px; 
            box-shadow: 0 4px 10px rgba(49, 130, 206, 0.2); 
        }
        button:active { transform: scale(0.98); }

        .result-box { 
            margin-top: 25px; padding: 20px; background-color: #ebf8ff; border-radius: 12px; border: 1px solid #bee3f8; 
            display: none; animation: fadeIn 0.5s ease;
        }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

        .result-header { font-size: 13px; color: #4299e1; text-align: center; margin-bottom: 5px; letter-spacing: 1px; font-weight: bold; }
        .main-grade { font-size: 26px; font-weight: 800; color: #2b6cb0; text-align: center; margin-bottom: 15px; }
        .explanation-box { font-size: 13px; color: #4a5568; background: rgba(255,255,255,0.7); padding: 10px; border-radius: 8px; line-height: 1.6; }

        .qr-section { margin-top: 25px; padding-top: 20px; border-top: 1px dashed #cbd5e0; text-align: center; }
        .qr-img { width: 260px; height: auto; margin-bottom: 15px; border-radius: 8px; box-shadow: 0 4px 12px rgba(0,0,0,0.1); }
        .cta-text { font-size: 14px; color: #4a5568; line-height: 1.8; }
        .highlight-brand { color: #2b6cb0; font-weight: bold; font-size: 15px; }
        .highlight-action { color: #e53e3e; font-weight: bold; }
    </style>
</head>
<body>

<div class="container">
    <h2>ğŸ“ é¦™æ¸¯å…¥å­¦å¹´çº§æµ‹è¯„ Pro</h2>
    <p class="subtitle">ç²¾å‡†åŒ¹é…æœ¬åœ°å­¦åˆ¶ä¸å›½é™…å­¦åˆ¶å·®å¼‚</p>
    
    <div class="form-group">
        <label>å­©å­çš„å‡ºç”Ÿæ—¥æœŸ</label>
        <input type="date" id="dob" min="2005-01-01" max="2030-12-31">
    </div>

    <div class="form-group">
        <label>ç›®æ ‡å…¥å­¦å¹´ä»½ <span class="sub-label">(é€šå¸¸ä¸º9æœˆ)</span></label>
        <select id="targetYear">
            <option value="2025">2025å¹´ 9æœˆ</option>
            <option value="2026" selected>2026å¹´ 9æœˆ</option>
            <option value="2027">2027å¹´ 9æœˆ</option>
            <option value="2028">2028å¹´ 9æœˆ</option>
        </select>
    </div>

    <div class="form-group">
        <label>ç›®æ ‡å­¦æ ¡ç±»å‹</label>
        <div class="radio-group">
            <div class="radio-option">
                <input type="radio" name="schoolType" id="typeLocal" value="local" checked>
                <label for="typeLocal">æœ¬åœ°/è‹±åŸº/åŠ æ‹¿å¤§<br><span style="font-size:10px">(æŒ‰å‡ºç”Ÿå¹´ä»½åˆ‡åˆ†)</span></label>
            </div>
            <div class="radio-option">
                <input type="radio" name="schoolType" id="typeUk" value="uk">
                <label for="typeUk">ä¼ ç»Ÿè‹±å¼/å“ˆç½—<br><span style="font-size:10px">(æŒ‰9æœˆ1æ—¥åˆ‡åˆ†)</span></label>
            </div>
        </div>
    </div>

    <button onclick="calculateGrade()">ç”Ÿæˆæµ‹è¯„æŠ¥å‘Š</button>

    <div id="result" class="result-box">
        <div class="result-header">RECOMMENDED GRADE</div>
        <div class="main-grade" id="gradeDisplay"></div>
        <div class="explanation-box" id="explanation"></div>
        
        <div class="qr-section">
            <img src="qrcode.png" alt="æ‰«ç å…³æ³¨" class="qr-img" onerror="this.style.display='none';alert('å›¾ç‰‡æœªæ˜¾ç¤ºï¼Œè¯·ç¡®è®¤GitHubæ–‡ä»¶åä¸ºqrcode.png')">
            <div class="cta-text">
                å…³æ³¨å¾®ä¿¡å…¬ä¼—å· <span class="highlight-brand">[å®¶æœ‰æ¸¯å®å…»æˆç¬”è®°]</span><br>
                åŠ  <span class="highlight-action">å¤§D</span> ä¸ºå¥½å‹<br>
                è·å–ã€Šå…¨æ¸¯Top50å›½é™…å­¦æ ¡å¹´é¾„å¯¹ç…§è¡¨ã€‹
            </div>
        </div>
    </div>
</div>

<script>
    function calculateGrade() {
        const dobInput = document.getElementById('dob').value;
        const targetYear = parseInt(document.getElementById('targetYear').value);
        const schoolType = document.querySelector('input[name="schoolType"]:checked').value;
        
        if (!dobInput) { alert("è¯·å…ˆé€‰æ‹©å‡ºç”Ÿæ—¥æœŸ"); return; }
        
        const dob = new Date(dobInput);
        const birthYear = dob.getFullYear();
        const birthMonth = dob.getMonth() + 1; 

        // --- æ ¸å¿ƒä¿®æ”¹2ï¼šé˜²å‘†é€»è¾‘éªŒè¯ ---
        // æ£€æŸ¥å¹´ä»½æ˜¯å¦åˆç† (æ¯”å¦‚å¿…é¡»åœ¨ 2000å¹´ - 2030å¹´ä¹‹é—´)
        // å¦‚æœè¾“å…¥äº† 6ä½æ•°çš„å¹´ä»½ï¼ŒbirthYear ä¼šéå¸¸å¤§ï¼Œç›´æ¥ä¼šè¢«æ‹¦ä½
        if (birthYear < 2000 || birthYear > 2030) {
            alert("æ—¥æœŸè¾“å…¥æœ‰è¯¯ï¼å¹´ä»½å¿…é¡»åœ¨ 2000-2030 ä¹‹é—´ã€‚");
            return; // åœæ­¢è®¡ç®—
        }
        
        let gradeText = "";
        let logicText = "";

        if (schoolType === 'local') {
            // é€»è¾‘ Aï¼šè‡ªç„¶å¹´
            let ageInSept = targetYear - birthYear;
            
            if (ageInSept === 2) gradeText = "PN (å­¦å‰ç­)";
            else if (ageInSept === 3) gradeText = "K1 (å¹¼å„¿ç­)";
            else if (ageInSept === 4) gradeText = "K2 (ä½ç­)";
            else if (ageInSept === 5) gradeText = "K3 (é«˜ç­) / ESF Year 1"; 
            else if (ageInSept === 6) gradeText = "P1 (å°ä¸€) / ESF Year 2";
            else if (ageInSept > 6 && ageInSept <= 11) {
                gradeText = `P${ageInSept - 5} (å°${ageInSept - 5})`;
            }
            else if (ageInSept > 11 && ageInSept <= 17) {
                gradeText = `S${ageInSept - 11} (ä¸­${ageInSept - 11})`;
            }
            else if (ageInSept > 17) {
                gradeText = "å¤§ä¸“/å¤§å­¦é˜¶æ®µ";
            }
            else {
                gradeText = "å®å®å¤ªå°å•¦ (æœªè¾¾å…¥å­¦å¹´é¾„)";
            }

            logicText = `âœ… <strong>è®¡ç®—è§„åˆ™ï¼š</strong> ä¾æ®ã€è‡ªç„¶å¹´ã€‘ï¼ˆ1æœˆ1æ—¥-12æœˆ31æ—¥ï¼‰åˆ’åˆ†ã€‚<br>ğŸ“Œ <strong>é€‚ç”¨å­¦æ ¡ï¼š</strong> æ‰€æœ‰æœ¬åœ°å®˜æ´¥/ç›´èµ„/ç§ç«‹å­¦æ ¡ã€è‹±åŸº(ESF)ã€åŠ æ‹¿å¤§å›½é™…(CDNIS)ç­‰ã€‚<br>ğŸ’¡ <strong>æç¤ºï¼š</strong> æœ¬åœ°å­¦åˆ¶å®Œæˆ P6 åç›´å‡ S1 (ä¸­ä¸€)ã€‚`;
        } else {
            // é€»è¾‘ Bï¼šä¸¥æ ¼å­¦æœ¯å¹´
            let cohortYear = birthYear;
            if (birthMonth >= 9) cohortYear += 1; 
            
            let ukAge = targetYear - cohortYear;
            
            if (ukAge === 3) gradeText = "Nursery";
            else if (ukAge === 4) gradeText = "Reception";
            else if (ukAge === 5) gradeText = "Year 1";
            else if (ukAge === 6) gradeText = "Year 2";
            else if (ukAge > 6 && ukAge <= 13) {
                 gradeText = `Year ${ukAge - 4}`;
            }
            else if (ukAge > 13 && ukAge <= 18) {
                 gradeText = `Year ${ukAge - 4} (ä¸­å­¦/é«˜ä¸­)`;
            }
             else if (ukAge > 18) {
                 gradeText = "å¤§å­¦é˜¶æ®µ";
            }
            else {
                 gradeText = "å®å®å¤ªå°å•¦";
            }

            logicText = `âœ… <strong>è®¡ç®—è§„åˆ™ï¼š</strong> ä¾æ®ã€å­¦æœ¯å¹´ã€‘ï¼ˆ9æœˆ1æ—¥-8æœˆ31æ—¥ï¼‰åˆ’åˆ†ã€‚<br>ğŸ“Œ <strong>é€‚ç”¨å­¦æ ¡ï¼š</strong> å“ˆç½—(Harrow)ã€å¯å†(Kellett) ç­‰ä¼ ç»Ÿè‹±å¼ç§æ ¡ã€‚<br>ğŸ’¡ <strong>æ³¨æ„ï¼š</strong> 9æœˆ-12æœˆå‡ºç”Ÿçš„â€œç»†Bâ€é€šå¸¸ä¼šè¯»ä½ä¸€çº§ï¼Œåœ¨ç­çº§é‡Œåšâ€œå¤§å“¥å“¥/å¤§å§å§â€ã€‚`;
        }

        document.getElementById('result').style.display = "block";
        document.getElementById('gradeDisplay').innerText = gradeText;
        document.getElementById('explanation').innerHTML = logicText;
        
        document.getElementById('result').scrollIntoView({behavior: "smooth"});
    }
</script>

</body>
</html>
