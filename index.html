<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>é¦™æ¸¯åæ ¡å…¥å­¦çº§æ•°ç²¾å‡†æµ‹è¯„å™¨</title>
    <style>
        body { font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif; background-color: #f0f2f5; color: #333; padding: 20px; }
        .container { max-width: 500px; margin: 0 auto; background: white; padding: 30px; border-radius: 16px; box-shadow: 0 8px 30px rgba(0,0,0,0.08); }
        h2 { text-align: center; color: #1a202c; margin-bottom: 5px; font-weight: 700; font-size: 22px; }
        .subtitle { text-align: center; color: #718096; font-size: 14px; margin-bottom: 25px; }
        .form-group { margin-bottom: 20px; }
        label { display: block; margin-bottom: 8px; font-weight: 600; font-size: 14px; color: #4a5568; }
        .sub-label { font-size: 12px; color: #718096; font-weight: 400; margin-left: 5px; }
        
        input, select { width: 100%; padding: 12px; border: 1px solid #e2e8f0; border-radius: 8px; font-size: 16px; box-sizing: border-box; background-color: #fff; transition: border-color 0.2s; }
        input:focus, select:focus { border-color: #3182ce; outline: none; }
        
        /* Radio Button Group */
        .radio-group { display: flex; gap: 10px; }
        .radio-option { flex: 1; }
        .radio-option input { display: none; }
        .radio-option label { 
            display: block; padding: 10px; border: 1px solid #e2e8f0; border-radius: 8px; 
            text-align: center; font-size: 13px; cursor: pointer; color: #718096; 
        }
        .radio-option input:checked + label {
            background-color: #ebf8ff; border-color: #3182ce; color: #2c5282; font-weight: bold;
        }

        button { width: 100%; padding: 15px; background-color: #3182ce; color: white; border: none; border-radius: 8px; font-size: 16px; font-weight: bold; cursor: pointer; margin-top: 10px; box-shadow: 0 4px 6px rgba(49, 130, 206, 0.2); transition: transform 0.1s; }
        button:active { transform: scale(0.98); }

        .result-box { margin-top: 25px; padding: 20px; background-color: #ebf8ff; border-radius: 10px; border: 1px solid #bee3f8; display: none; }
        .main-grade { font-size: 24px; font-weight: 800; color: #2b6cb0; text-align: center; margin-bottom: 10px; }
        .sub-info { font-size: 14px; color: #4a5568; line-height: 1.6; background: rgba(255,255,255,0.6); padding: 10px; border-radius: 6px; margin-top: 10px;}
        
        /* äºŒç»´ç åŒºåŸŸæ ·å¼ */
        .qr-section { margin-top: 20px; padding-top: 20px; border-top: 1px dashed #cbd5e0; text-align: center; }
        .qr-img { width: 160px; height: 160px; object-fit: contain; margin-bottom: 10px; border-radius: 8px; border: 1px solid #e2e8f0; padding: 5px; background: white; }
        .cta-text { font-size: 14px; color: #4a5568; line-height: 1.8; }
        .highlight-brand { color: #2b6cb0; font-weight: bold; font-size: 15px; }
        .highlight-action { color: #e53e3e; font-weight: bold; }
    </style>
</head>
<body>

<div class="container">
    <h2>ğŸ« é¦™æ¸¯å­¦æ ¡å…¥å­¦æµ‹è¯„ Pro</h2>
    <p class="subtitle">ç²¾å‡†åŒ¹é…æœ¬åœ°å­¦åˆ¶ä¸è‹±/ç¾å­¦åˆ¶å·®å¼‚</p>
    
    <div class="form-group">
        <label>å­©å­çš„å‡ºç”Ÿæ—¥æœŸ</label>
        <input type="date" id="dob">
    </div>

    <div class="form-group">
        <label>ç›®æ ‡å…¥å­¦å¹´ä»½ <span class="sub-label">(é€šå¸¸ä¸º9æœˆ)</span></label>
        <select id="targetYear">
            <option value="2025">2025å¹´ 9æœˆ</option>
            <option value="2026" selected>2026å¹´ 9æœˆ</option>
            <option value="2027">2027å¹´ 9æœˆ</option>
            <option value="2028">2028å¹´ 9æœˆ</option>
        </select>
    </div>

    <div class="form-group">
        <label>ç›®æ ‡å­¦æ ¡ç±»å‹</label>
        <div class="radio-group">
            <div class="radio-option">
                <input type="radio" name="schoolType" id="typeLocal" value="local" checked>
                <label for="typeLocal">æœ¬åœ°/è‹±åŸº/åŠ æ‹¿å¤§<br><span style="font-size:10px">(1æœˆ-12æœˆè®¡ç®—)</span></label>
            </div>
            <div class="radio-option">
                <input type="radio" name="schoolType" id="typeUk" value="uk">
                <label for="typeUk">ä¼ ç»Ÿè‹±å¼/å“ˆç½—<br><span style="font-size:10px">(9æœˆ-8æœˆè®¡ç®—)</span></label>
            </div>
        </div>
    </div>

    <button onclick="calculateGrade()">ç”Ÿæˆæµ‹è¯„æŠ¥å‘Š</button>

    <div id="result" class="result-box">
        <div class="main-grade" id="gradeDisplay"></div>
        <div class="sub-info" id="explanation"></div>
        
        <div class="qr-section">
            <img src="qrcode.png" alt="æ‰«ç å…³æ³¨" class="qr-img">
            <div class="cta-text">
                å…³æ³¨å¾®ä¿¡å…¬ä¼—å· <span class="highlight-brand">[å®¶æœ‰æ¸¯å®å…»æˆç¬”è®°]</span><br>
                åŠ  <span class="highlight-action">å¤§D</span> ä¸ºå¥½å‹<br>
                è·å–ã€Šå…¨æ¸¯Top50å›½é™…å­¦æ ¡å¹´é¾„å¯¹ç…§è¡¨ã€‹
            </div>
        </div>
    </div>
</div>

<script>
    function calculateGrade() {
        const dobInput = document.getElementById('dob').value;
        const targetYear = parseInt(document.getElementById('targetYear').value);
        const schoolType = document.querySelector('input[name="schoolType"]:checked').value;
        
        if (!dobInput) { alert("è¯·é€‰æ‹©å‡ºç”Ÿæ—¥æœŸ"); return; }
        
        const dob = new Date(dobInput);
        const birthYear = dob.getFullYear();
        const birthMonth = dob.getMonth() + 1; 
        
        let gradeText = "";
        let logicText = "";

        if (schoolType === 'local') {
            // --- é€»è¾‘ Aï¼šè‡ªç„¶å¹´ (1.1 - 12.31) ---
            let ageByYear = targetYear - birthYear;
            
            if (ageByYear === 2) gradeText = "PN (å­¦å‰ç­)";
            else if (ageByYear === 3) gradeText = "K1 (å¹¼å„¿ç­)";
            else if (ageByYear === 4) gradeText = "K2 (ä½ç­)";
            else if (ageByYear === 5) gradeText = "K3 (é«˜ç­) / ESF Year 1"; 
            else if (ageByYear === 6) gradeText = "P1 (å°ä¸€) / ESF Year 2";
            
            // ä¿®æ­£ï¼šP1-P6 ä¹‹åå‡ S1-S6
            else if (ageByYear > 6 && ageByYear <= 11) {
                gradeText = `P${ageByYear - 5} (å°${ageByYear - 5})`;
            }
            else if (ageByYear > 11 && ageByYear <= 17) {
                // 12å²æ˜¯ä¸­ä¸€ (S1)
                gradeText = `S${ageByYear - 11} (ä¸­${ageByYear - 11})`;
            }
            else if (ageByYear > 17) {
                gradeText = "å¤§ä¸“/å¤§å­¦é˜¶æ®µ";
            }
            else {
                gradeText = "å¹´é¾„åå° (æœªè¾¾å…¥å­¦å¹´é¾„)";
            }

            logicText = `ä¾æ®<strong>è‡ªç„¶å¹´</strong>è®¡ç®—ï¼ˆ1æœˆ1æ—¥-12æœˆ31æ—¥åˆ’çº¿ï¼‰ã€‚<br>é€‚ç”¨äºï¼šæ‰€æœ‰æœ¬åœ°å­¦æ ¡ã€è‹±åŸº(ESF)ã€åŠ æ‹¿å¤§å›½é™…ç­‰ã€‚<br>æ³¨ï¼šæœ¬åœ°å­¦åˆ¶å®Œæˆ P6 åç›´å‡ S1 (ä¸­ä¸€)ã€‚`;
        } else {
            // --- é€»è¾‘ Bï¼šå­¦å¹´ (9.1 - 8.31) ---
            let cohortYear = birthYear;
            if (birthMonth >= 9) cohortYear += 1; 
            
            let ukAge = targetYear - cohortYear;
            
            if (ukAge === 3) gradeText = "Nursery";
            else if (ukAge === 4) gradeText = "Reception";
            else if (ukAge === 5) gradeText = "Year 1";
            else if (ukAge === 6) gradeText = "Year 2";
            else if (ukAge > 6 && ukAge <= 18) {
                gradeText = `Year ${ukAge - 4}`;
            }
            else if (ukAge > 18) {
                 gradeText = "å¤§å­¦é˜¶æ®µ";
            }
            else {
                 gradeText = "å¹´é¾„åå°";
            }

            logicText = `ä¾æ®<strong>å­¦æœ¯å¹´</strong>è®¡ç®—ï¼ˆ9æœˆ1æ—¥-8æœˆ31æ—¥åˆ’çº¿ï¼‰ã€‚<br>æ³¨æ„ï¼š9æœˆ-12æœˆå‡ºç”Ÿçš„â€œç»†Bâ€é€šå¸¸ä¼šè¯»ä½ä¸€çº§ã€‚<br>é€‚ç”¨äºï¼šå“ˆç½—ã€Kellettç­‰ä¼ ç»Ÿè‹±å¼ç§æ ¡ã€‚`;
        }

        document.getElementById('result').style.display = "block";
        document.getElementById('gradeDisplay').innerText = gradeText;
        document.getElementById('explanation').innerHTML = logicText;
    }
</script>

</body>
</html>
